import{j as e,R as i,u as D}from"./entry-index-B_BwMGDA.js";import{r as Y}from"./chunk-text-area-hQYLMo7L.js";import{o as k}from"./chunk-button-BYJQxefP.js";import{I as Z,h as _,g as K,v as ee}from"./chunk-dropdown-menu-DjJRBXTh.js";import{p as j}from"./chunk-flex-BCOyAvOQ.js";import{o as P}from"./chunk-icon-button-CMpL5Fj6.js";import{i as te}from"./chunk-icons-Du45HjA-.js";import{i as ne}from"./chunk-switch-CZ0Z7J0K.js";import{u as se}from"./chunk-text-field-DU038-QT.js";import{m as F}from"./chunk-proxy-C6LVNy_K.js";import{C as re}from"./chunk-chevron-down-Dkw6_t5U.js";import{A as ie}from"./chunk-index-PbJe1vUH.js";function x({title:a="",description:c="",children:h,className:r="",direction:f="column",bordless:n=!1,onHeaderClick:l=()=>{}}){const s=i.Children.toArray(h).find(o=>i.isValidElement(o)&&o.type===B),d=i.Children.toArray(h).filter(o=>!(i.isValidElement(o)&&o.type===B));return e.jsxs(j,{direction:f,justify:"between",align:"center",wrap:"wrap",style:{borderColor:"var(--gray-a5)"},className:n?"border-0":"border-1 rounded-md py-2 px-4 bg-transparent  min-h-8"+r,children:[e.jsxs(j,{className:"w-full",direction:"row",justify:"between",align:"center",wrap:"nowrap",onClick:l,children:[e.jsxs(j,{direction:"column",gap:"1",className:"min-h-10",justify:"center",children:[e.jsx("label",{className:"text-base font-medium",style:{fontWeight:600},children:a}),c&&e.jsx("label",{className:"text-sm text-muted-foreground",children:c})]}),s]}),d]})}function B({children:a}){return e.jsx(e.Fragment,{children:a})}x.Action=B;function ve({label:a="",autoDisabled:c=!0,defaultChecked:h,onChange:r,...f}){const n=i.useRef(null),[l,s]=i.useState(!1),[d,o]=i.useState(h||!1),m=t=>{c&&s(!0);const g=d;o(t);const p=r&&n.current?r(t,n.current):void 0;if(c){const b=p;b&&typeof b.then=="function"?b.then(()=>{}).catch(()=>{o(g)}).finally(()=>{s(!1)}):s(!1)}};return e.jsx(x,{...f,direction:"column",children:e.jsx(x.Action,{children:e.jsxs(j,{direction:"row",gap:"2",align:"center",children:[e.jsx("label",{children:a}),e.jsx(ne,{ref:n,checked:d,onCheckedChange:m,disabled:l})]})})})}function ye({label:a="",variant:c="solid",children:h,onClick:r,autoDisabled:f=!0,...n}){const[l,s]=i.useState(!1),d=o=>{f&&s(!0);const m=r?r(o.currentTarget):void 0;if(f){const t=m;t&&typeof t.then=="function"?t.finally(()=>s(!1)):s(!1)}};return e.jsx(x,{...n,direction:"column",children:e.jsx(x.Action,{children:e.jsx(j,{children:e.jsxs(j,{direction:"row",gap:"2",align:"center",children:[e.jsx("label",{children:a}),e.jsx(k,{onClick:d,variant:c,disabled:l,children:h})]})})})})}function ge({label:a="",variant:c="solid",children:h,onClick:r,autoDisabled:f=!0,...n}){const[l,s]=i.useState(!1),d=o=>{f&&s(!0);const m=r?r(o.currentTarget):void 0;if(f){const t=m;t&&typeof t.then=="function"?t.finally(()=>s(!1)):s(!1)}};return e.jsx(x,{...n,direction:"column",children:e.jsx(x.Action,{children:e.jsx(j,{children:e.jsxs(j,{direction:"row",gap:"2",align:"center",children:[e.jsx("label",{children:a}),e.jsx(P,{onClick:d,variant:c,disabled:l,children:h})]})})})})}function Ce({title:a="",description:c="",bordless:h=!1,showSaveButton:r=!0,label:f=D().t("save"),autoDisabled:n=!0,isSaving:l,OnSave:s=()=>{},children:d=null,onChange:o,onKeyDown:m,value:t,defaultValue:g,placeholder:p,disabled:b,type:y="text",required:S,readOnly:R,maxLength:u,minLength:v,pattern:w,autoComplete:A,autoFocus:q,name:G,id:J,className:M="w-full",...O}){const[Q,N]=i.useState(!1),L=l!==void 0?l:Q,[W,$]=i.useState(t||g||""),T=t!==void 0?t:W,V=i.useRef(null),I=i.useRef(null);i.useEffect(()=>{t!==void 0&&$(t.toString())},[t]);const z=()=>{l===void 0&&n&&N(!0);const C=(T==null?void 0:T.toString())||"",E=V.current&&I.current?s(C,V.current,I.current):void 0;if(n){const H=E;H&&typeof H.then=="function"?H.finally(()=>l===void 0&&N(!1)):l===void 0&&N(!1)}},U=C=>{const E=C.target.value;t===void 0&&$(E),o==null||o(C)},X=C=>{C.key==="Enter"&&(C.preventDefault(),z()),m==null||m(C)};return e.jsx(x,{title:a,description:c,bordless:h,children:e.jsxs(j,{direction:"column",className:"w-full mt-1",gap:"2",align:"start",children:[e.jsx(se,{...O,className:M,value:t!==void 0?t:W,defaultValue:t===void 0?g:void 0,placeholder:p,disabled:b||L,type:y,required:S,readOnly:R,maxLength:u,minLength:v,pattern:w,autoComplete:A,autoFocus:q,name:G,id:J,onChange:U,onKeyDown:X,ref:V}),d,e.jsx(k,{ref:I,onClick:z,variant:"solid",hidden:!r,disabled:L,children:f})]})})}function Se({title:a="",description:c="",label:h=D().t("save"),defaultValue:r="",OnSave:f=()=>{},onChange:n,autoDisabled:l=!0,isSaving:s,bordless:d=!1,showSaveButton:o=!0}){const[m,t]=i.useState(!1),g=s!==void 0?s:m,[p,b]=i.useState(r),y=i.useRef(null),S=i.useRef(null),R=()=>{s===void 0&&l&&t(!0);const v=y.current&&S.current?f(p,y.current,S.current):void 0;if(l){const w=v;w&&typeof w.then=="function"?w.finally(()=>s===void 0&&t(!1)):s===void 0&&t(!1)}},u=v=>{b(v.target.value),n==null||n(v)};return e.jsx(x,{title:a,description:c,bordless:d,children:e.jsxs(j,{direction:"column",className:"w-full mt-1",gap:"2",align:"start",children:[e.jsx(Y,{className:"w-full",defaultValue:r,resize:"vertical",value:p,onChange:u,ref:y}),o&&e.jsx(k,{ref:S,onClick:R,variant:"solid",disabled:g,children:h})]})})}function we({title:a,description:c,defaultValue:h="",value:r,label:f=D().t("select"),options:n=[],OnSave:l=()=>{},autoDisabled:s=!0,isSaving:d,bordless:o=!1}){const[m,t]=i.useState(!1),g=d!==void 0?d:m,[p,b]=i.useState(r!==void 0?r:h),y=i.useRef(null);i.useEffect(()=>{r!==void 0&&b(r)},[r]);const S=u=>{d===void 0&&s&&t(!0);const v=p;b(u);const w=y.current?l(u,y.current):void 0;if(s){const A=w;A&&typeof A.then=="function"?A.then(()=>{}).catch(()=>{b(v)}).finally(()=>{d===void 0&&t(!1)}):d===void 0&&t(!1)}},R=()=>{if(p){const u=n.find(v=>v.value===p);return(u==null?void 0:u.label)||p}return f};return e.jsx(x,{title:a,description:c,bordless:o,children:e.jsx(x.Action,{children:e.jsx(j,{children:e.jsx(j,{direction:"row",gap:"2",align:"center",children:e.jsxs(Z,{children:[e.jsx(_,{disabled:g,children:e.jsxs(k,{variant:"soft",ref:y,children:[R(),e.jsx(te,{})]})}),e.jsx(K,{children:n.map(u=>e.jsx(ee,{disabled:u.disabled,onSelect:()=>{S(u.value)},children:u.label?u.label:u.value},u.value))})]})})})})})}function Re({children:a}){return e.jsx("label",{className:"text-xl font-bold",style:{fontWeight:600},children:a})}function le({title:a,description:c,defaultOpen:h=!1,children:r,bordless:f=!1}){const[n,l]=i.useState(h);return e.jsxs(x,{title:a,description:c,onHeaderClick:()=>l(!n),bordless:f,children:[e.jsx(x.Action,{children:e.jsx(P,{variant:"soft",onClick:()=>l(!n),"aria-expanded":n,"aria-controls":"collapsible-content",children:e.jsx(F.div,{initial:{rotate:0,scale:1},animate:{rotate:n?180:0,scale:n?1.1:1},transition:{duration:.25,ease:[.4,0,.2,1]},children:e.jsx(re,{})})})}),e.jsx(ie,{children:n&&e.jsxs(F.div,{className:"w-full p-0 md:p-1",layout:!0,initial:{height:0,opacity:0,y:-10},animate:{height:"auto",opacity:1,y:0},exit:{height:0,opacity:0,y:-10},transition:{duration:.25,ease:[.4,0,.2,1]},style:{overflow:"hidden"},id:"collapsible-content",children:[e.jsx("div",{className:"border-t-1 my-2"}),r]})})]})}le.Header=function({children:c}){return e.jsx("div",{children:c})};export{ve as S,le as a,we as b,Ce as c,Re as d,Se as e,ge as f,ye as g};
